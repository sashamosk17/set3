# A1
Даны три окружности:

- центр [1, 1], радиус 1;
- центр [1.5, 2], радиус sqrt(5) / 2;
- центр [2, 1.5], радиус sqrt(5) / 2

Требуется:

1. Реализовать алгоритм Монте‑Карло для приближённой оценки площади пересечения трёх кругов.
2. Провести экспериментальные замеры точности оценки площади в зависимости от:
   - числа случайных точек \(N\) (от 100 до 100000 с шагом 500);
   - выбора прямоугольной области генерации точек:
     - «широкая» область, полностью покрывающая все три круга;
     - «узкая» область, плотно ограничивающая область пересечения кругов.
3. Сравнить приближённые значения с точной площадью
   \( S = 0.25 \cdot \pi + 1.25 \cdot \arcsin(0.8) - 1 \)
   и проанализировать относительную погрешность.


## Алгоритм и реализация

Алгоритм Монте‑Карло:

В выбранном прямоугольнике [x_min, x_max] × [y_min, y_max] равномерно генерируются N независимых случайных точек.  
Для каждой точки проверяется, лежит ли она внутри всех трёх кругов.  
Пусть M — число точек, попавших в пересечение. Тогда оценка площади задаётся формулой

S ≈ S_rect * (M / N),

где

S_rect = (x_max − x_min) * (y_max − y_min).



В экспериментах используются два прямоугольника:

- Wide rectangle — «широкий» прямоугольник, покрывающий все три круга.
- Narrow rectangle — «узкий» прямоугольник, полученный как пересечение проекций всех трёх кругов на оси X и Y. содержит минимум «пустого» пространства.

### Графики

Оценка площади в зависимости от N:

![Area vs N](images/algosy1.png)

Относительная ошибка в зависимости от N:

![Relative error vs N](images/algosy2.png)

## Выводы

В ходе экспериментов для каждого значения N от 100 до 100000 (с шагом 500) была вычислена оценка площади пересечения трёх кругов и относительная ошибка по отношению к точному значению S ≈ 0.9445.

### Сходимость оценки площади

По графику зависимости оценки площади от N видно, что при малых N результаты сильно колеблется, однако по мере роста N как для широкого, так и для узкого прямоугольника оценка стабилизируется в окрестности точного значения S. Это подтверждает корректность реализации метода Монте‑Карло.

### Поведение относительной ошибки

График относительной ошибки (в логарифмическом масштабе по оси Y) показывает монотонное убывание ошибки при увеличении N. Характер этой зависимости соответствует теоретическому закону порядка 1/sqrt(N): при увеличении числа точек в 100 раз ошибка уменьшается примерно в 10 раз.

### Сравнение широкого и узкого прямоугольников

При одинаковом числе точек N оценки, полученные в широком и узком прямоугольниках, стремятся к одной и той же площади S, но отличаются по разбросу. Для узкого прямоугольника отличия в оценке заметно меньше, а относительная ошибка в среднем ниже. Это связано с тем, что узкая область содержит меньше пустого пространства вне фигуры пересечения, поэтому большая доля сгенерированных точек попадает в целевую область и используется более эффективно.
